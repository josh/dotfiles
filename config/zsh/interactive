# shellcheck source=/dev/null
source ~/.config/sh/interactive

if [ -f "$HOME/.nix-profile/etc/zshrc" ]; then
	source "$HOME/.nix-profile/etc/zshrc"
fi

if [ -d "$HOME/.nix-profile/share/zsh/site-functions" ]; then
	FPATH="$HOME/.nix-profile/share/zsh/site-functions:$FPATH"
fi

HISTSIZE=50000
# shellcheck disable=SC2034
SAVEHIST=50000

setopt EXTENDED_HISTORY
setopt APPEND_HISTORY
setopt HIST_FIND_NO_DUPS
setopt HIST_IGNORE_DUPS
setopt HIST_IGNORE_SPACE

__sync_history() {
	echo "...syncing history"
	zsh-session-prune
	zsh-history-sync
}
autoload -Uz add-zsh-hook
add-zsh-hook zshexit __sync_history

# force emacs bindings
bindkey -e

# bash navigation
autoload -U select-word-style
select-word-style bash
