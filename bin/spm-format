#!/bin/bash

set -e -o pipefail

shopt -s nullglob
files=(./Package.swift ./Sources/**/*.swift ./Tests/**/*.swift)
shopt -u nullglob

for path in "${files[@]}"; do
	echo "$path" >&2
	swift-format "$path" | swiftformat stdin --config .swiftformat --quiet --output "$path"
done
